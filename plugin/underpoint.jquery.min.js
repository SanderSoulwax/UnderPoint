(function(a){function j(d,c){this.element=d;this.options=a.extend({},k,c);this._defaults=k;this._name=b;this.init()}var b="underpoint",k={trigger:"click",selector:"*",depth:0,includeSelf:!1,callback:function(){}};j.prototype={init:function(){this.proxied={didTrigger:jQuery.proxy(this.didTrigger,this)};a(this.element).on(this.options.trigger,this.proxied.didTrigger)},didTrigger:function(d){var c,h,f=d.pageX,e=d.pageY,b,g;b=this.findAtDepth(a(this.element),this.options.selector,this.options.depth).filter(function(){g=
    a(this).offset();c=[g.left,g.left+a(this).outerWidth()];h=[g.top,g.top+a(this).outerHeight()];return f>=c[0]&&f<=c[1]&&e>=h[0]&&e<=h[1]});this.options.includeSelf&&b.add(a(this.element));this.options.callback(b,d)},findAtDepth:function(a,c,b){var f=[],e;if(0<b){for(e=1;e<=b;e++)f.push("> "+Array(e).join("* > ")+c);c=f.join(", ")}return a.find(c)}};a.fn[b]=function(d){return this.each(function(){a.data(this,"plugin_"+b)||a.data(this,"plugin_"+b,new j(this,d))})}})(jQuery,window,document);